"use strict";var nav=document.querySelector(".nav"),allNavItems=document.querySelectorAll(".nav__item"),hamburger=document.querySelector(".hamburger"),prevBtn=document.querySelector(".gallery-button.prev"),nextBtn=document.querySelector(".gallery-button.next"),galleryImages=document.querySelector(".gallery-images"),images=document.querySelectorAll(".gallery-images img"),footerYear=document.querySelector(".footer__year"),cards=document.querySelectorAll(".card"),flexfunBoxes=document.querySelectorAll(".flexfun__box"),imageIndex=0,currentIndex=1,handleNavItemsAnimation=function(){var n=5;allNavItems.forEach(function(e){e.classList.toggle(".nav-items-animation"),e.style.animationDelay="."+n+"s",n++})},handleBoxClick=function(e){e.currentTarget.classList.toggle("is-scaled")},handleNav=function(){nav.classList.toggle("nav--active"),allNavItems.forEach(function(e){e.addEventListener("click",function(){nav.classList.remove("nav--active")})}),handleNavItemsAnimation()},handleCurrentYear=function(){var e=(new Date).getFullYear();footerYear.innerText=e,console.log(".footer-year")},changeSlide=(handleCurrentYear(),function(e){galleryImages.style.transition="transform 0.4s ease-in-out",galleryImages.style.transform="translateX(-".concat(100*e/6,"%)")}),handleTransitionEnd=function e(){galleryImages.removeEventListener("transitionend",e),0===currentIndex?currentIndex=images.length:currentIndex===images.length+1&&(currentIndex=1),galleryImages.style.transition="none",galleryImages.style.transform="translateX(-".concat(100*currentIndex/6,"%)"),requestAnimationFrame(function(){requestAnimationFrame(function(){galleryImages.style.transition="transform 0.4s ease-in-out"})})},updateImageSources=function(){var t=window.innerWidth;document.querySelectorAll(".gallery-images img").forEach(function(e){var n=992<=t?e.src.replace("-640.webp","-1920.webp"):e.src.replace("-1920.webp","-640.webp");e.src=n})},handleCardClick=function(e){e.currentTarget.classList.toggle("is-flipped")},firstClone=(cards.forEach(function(e){e.addEventListener("click",handleCardClick),e.addEventListener("touchend",handleCardClick)}),document.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll(".nav__element-to-hide"),n=(window.addEventListener("scroll",function(){var n=window.pageYOffset||document.documentElement.scrollTop;e.forEach(function(e){e.style.opacity=200<n?"0":"1"})}),document.querySelector(".hamburger"));n.addEventListener("click",function(){n.classList.toggle("is-active")})}),hamburger.addEventListener("click",handleNav),prevBtn.addEventListener("click",function(){0===currentIndex?(galleryImages.addEventListener("transitionend",handleTransitionEnd),currentIndex=images.length):currentIndex--,changeSlide(currentIndex)}),nextBtn.addEventListener("click",function(){currentIndex===images.length+1?(galleryImages.addEventListener("transitionend",handleTransitionEnd),currentIndex=1):currentIndex++,changeSlide(currentIndex)}),images[0].cloneNode(!0)),lastClone=images[images.length-1].cloneNode(!0);firstClone.id="firstClone",lastClone.id="lastClone",galleryImages.append(firstClone),galleryImages.prepend(lastClone),galleryImages.style.transform="translateX(-".concat(100*(currentIndex+1),"vw)"),window.addEventListener("resize",updateImageSources),updateImageSources(),flexfunBoxes.forEach(function(e){e.addEventListener("click",handleBoxClick),e.addEventListener("touchstart",function(e){e.preventDefault(),handleBoxClick(e)})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsibmF2IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiYWxsTmF2SXRlbXMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaGFtYnVyZ2VyIiwicHJldkJ0biIsIm5leHRCdG4iLCJnYWxsZXJ5SW1hZ2VzIiwiaW1hZ2VzIiwiZm9vdGVyWWVhciIsImZsZXhmdW5Cb3hlcyIsImltYWdlSW5kZXgiLCJoYW5kbGVOYXZJdGVtc0FuaW1hdGlvbiIsImZvckVhY2giLCJpdGVtIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwic3R5bGUiLCJhbmltYXRpb25EZWxheSIsImRlbGF5VGltZSIsImJveCIsImN1cnJlbnRUYXJnZXQiLCJyZW1vdmUiLCJhZGRFdmVudExpc3RlbmVyIiwiZ2V0RnVsbFllYXIiLCJoYW5kbGVDdXJyZW50WWVhciIsIkRhdGUiLCJjaGFuZ2VTbGlkZSIsInllYXIiLCJ0cmFuc2l0aW9uIiwiY3VycmVudEluZGV4IiwiaGFuZGxlVHJhbnNpdGlvbkVuZCIsIm5ld0luZGV4IiwiY29uY2F0IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibGVuZ3RoIiwic2NyZWVuV2lkdGgiLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwiaW1hZ2UiLCJuZXdTcmMiLCJzcmMiLCJyZXBsYWNlIiwiaGFuZGxlQ2FyZENsaWNrIiwibmF2RWxlbWVudHNUb0hpZGUiLCJldmVudCIsInNjcm9sbFRvcCIsImZpcnN0Q2xvbmUiLCJjYXJkcyIsImNhcmQiLCJvcGFjaXR5IiwiaGFuZGxlTmF2IiwicGFnZVlPZmZzZXQiLCJkb2N1bWVudEVsZW1lbnQiLCJlbGVtZW50IiwiY2xvbmVOb2RlIiwibGFzdENsb25lIiwicHJlcGVuZCIsInVwZGF0ZUltYWdlU291cmNlcyIsImhhbmRsZUJveENsaWNrIiwicHJldmVudERlZmF1bHQiLCJpZCIsImFwcGVuZCIsInRyYW5zZm9ybSJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBTUEsSUFBTUMsU0FBU0MsY0FBYyxN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dXJjZXNDb250ZW50IjpbIi8vIFZhcmlhYmxlc1xyXG5jb25zdCBuYXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5hdlwiKTtcclxuY29uc3QgYWxsTmF2SXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm5hdl9faXRlbVwiKTtcclxuY29uc3QgaGFtYnVyZ2VyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5oYW1idXJnZXJcIik7XHJcbmNvbnN0IHByZXZCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmdhbGxlcnktYnV0dG9uLnByZXZcIik7XHJcbmNvbnN0IG5leHRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmdhbGxlcnktYnV0dG9uLm5leHRcIik7XHJcbmNvbnN0IGdhbGxlcnlJbWFnZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmdhbGxlcnktaW1hZ2VzXCIpO1xyXG5jb25zdCBpbWFnZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmdhbGxlcnktaW1hZ2VzIGltZ1wiKTtcclxuY29uc3QgZm9vdGVyWWVhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9vdGVyX195ZWFyXCIpO1xyXG5jb25zdCBjYXJkcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuY2FyZFwiKTtcclxuY29uc3QgZmxleGZ1bkJveGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5mbGV4ZnVuX19ib3hcIik7XHJcblxyXG5sZXQgaW1hZ2VJbmRleCA9IDA7XHJcbmxldCBjdXJyZW50SW5kZXggPSAxO1xyXG5cclxuLy8gRnVuY3Rpb25zXHJcbmNvbnN0IGhhbmRsZU5hdkl0ZW1zQW5pbWF0aW9uID0gKCkgPT4ge1xyXG4gIGxldCBkZWxheVRpbWUgPSA1O1xyXG5cclxuICBhbGxOYXZJdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICBpdGVtLmNsYXNzTGlzdC50b2dnbGUoXCIubmF2LWl0ZW1zLWFuaW1hdGlvblwiKTtcclxuICAgIGl0ZW0uc3R5bGUuYW5pbWF0aW9uRGVsYXkgPSBcIi5cIiArIGRlbGF5VGltZSArIFwic1wiO1xyXG4gICAgZGVsYXlUaW1lKys7XHJcbiAgfSk7XHJcbn07XHJcblxyXG5jb25zdCBoYW5kbGVCb3hDbGljayA9IChldmVudCkgPT4ge1xyXG4gIGNvbnN0IGJveCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQ7XHJcbiAgYm94LmNsYXNzTGlzdC50b2dnbGUoXCJpcy1zY2FsZWRcIik7IC8vIFpha8WCYWRhasSFYywgxbxlIG1hc3ogdGFrxIUga2xhc8SZIENTUyBkbyBvYnJhY2FuaWEgZGl2YVxyXG59O1xyXG5cclxuY29uc3QgaGFuZGxlTmF2ID0gKCkgPT4ge1xyXG4gIG5hdi5jbGFzc0xpc3QudG9nZ2xlKFwibmF2LS1hY3RpdmVcIik7XHJcblxyXG4gIGFsbE5hdkl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgbmF2LmNsYXNzTGlzdC5yZW1vdmUoXCJuYXYtLWFjdGl2ZVwiKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBoYW5kbGVOYXZJdGVtc0FuaW1hdGlvbigpO1xyXG59O1xyXG5cclxuY29uc3QgaGFuZGxlQ3VycmVudFllYXIgPSAoKSA9PiB7XHJcbiAgY29uc3QgeWVhciA9IG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKTtcclxuICBmb290ZXJZZWFyLmlubmVyVGV4dCA9IHllYXI7XHJcbiAgY29uc29sZS5sb2coXCIuZm9vdGVyLXllYXJcIik7XHJcbn07XHJcblxyXG5oYW5kbGVDdXJyZW50WWVhcigpO1xyXG5cclxuY29uc3QgY2hhbmdlU2xpZGUgPSAobmV3SW5kZXgpID0+IHtcclxuICBnYWxsZXJ5SW1hZ2VzLnN0eWxlLnRyYW5zaXRpb24gPSBcInRyYW5zZm9ybSAwLjRzIGVhc2UtaW4tb3V0XCI7XHJcbiAgZ2FsbGVyeUltYWdlcy5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWCgtJHsobmV3SW5kZXggKiAxMDApIC8gNn0lKWA7XHJcbn07XHJcblxyXG5jb25zdCBoYW5kbGVUcmFuc2l0aW9uRW5kID0gKCkgPT4ge1xyXG4gIGdhbGxlcnlJbWFnZXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRyYW5zaXRpb25lbmRcIiwgaGFuZGxlVHJhbnNpdGlvbkVuZCk7XHJcblxyXG4gIGlmIChjdXJyZW50SW5kZXggPT09IDApIHtcclxuICAgIGN1cnJlbnRJbmRleCA9IGltYWdlcy5sZW5ndGg7XHJcbiAgfSBlbHNlIGlmIChjdXJyZW50SW5kZXggPT09IGltYWdlcy5sZW5ndGggKyAxKSB7XHJcbiAgICBjdXJyZW50SW5kZXggPSAxO1xyXG4gIH1cclxuXHJcbiAgZ2FsbGVyeUltYWdlcy5zdHlsZS50cmFuc2l0aW9uID0gXCJub25lXCI7XHJcbiAgZ2FsbGVyeUltYWdlcy5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWCgtJHsoY3VycmVudEluZGV4ICogMTAwKSAvIDZ9JSlgO1xyXG4gIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XHJcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xyXG4gICAgICBnYWxsZXJ5SW1hZ2VzLnN0eWxlLnRyYW5zaXRpb24gPSBcInRyYW5zZm9ybSAwLjRzIGVhc2UtaW4tb3V0XCI7XHJcbiAgICB9KTtcclxuICB9KTtcclxufTtcclxuXHJcbmNvbnN0IHVwZGF0ZUltYWdlU291cmNlcyA9ICgpID0+IHtcclxuICBjb25zdCBzY3JlZW5XaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xyXG4gIGNvbnN0IGdhbGxlcnlJbWFnZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmdhbGxlcnktaW1hZ2VzIGltZ1wiKTtcclxuXHJcbiAgZ2FsbGVyeUltYWdlcy5mb3JFYWNoKChpbWFnZSkgPT4ge1xyXG4gICAgbGV0IG5ld1NyYztcclxuXHJcbiAgICBpZiAoc2NyZWVuV2lkdGggPj0gOTkyKSB7XHJcbiAgICAgIG5ld1NyYyA9IGltYWdlLnNyYy5yZXBsYWNlKFwiLTY0MC53ZWJwXCIsIFwiLTE5MjAud2VicFwiKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIG5ld1NyYyA9IGltYWdlLnNyYy5yZXBsYWNlKFwiLTE5MjAud2VicFwiLCBcIi02NDAud2VicFwiKTtcclxuICAgIH1cclxuXHJcbiAgICBpbWFnZS5zcmMgPSBuZXdTcmM7XHJcbiAgfSk7XHJcbn07XHJcblxyXG5jb25zdCBoYW5kbGVDYXJkQ2xpY2sgPSAoZXZlbnQpID0+IHtcclxuICAvLyBUdXRhaiBsb2dpa2Egb2JyYWNhbmlhIGthcnR5IGx1YiBpbm5hIGFrY2phLCBucC46XHJcbiAgY29uc3QgY2FyZCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQ7XHJcbiAgY2FyZC5jbGFzc0xpc3QudG9nZ2xlKFwiaXMtZmxpcHBlZFwiKTsgLy8gWmFrxYJhZGFqxIVjLCDFvGUgbWFzeiB0YWvEhSBrbGFzxJkgQ1NTIGRvIG9icmFjYW5pYSBrYXJ0eVxyXG59O1xyXG5cclxuY2FyZHMuZm9yRWFjaCgoY2FyZCkgPT4ge1xyXG4gIGNhcmQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZUNhcmRDbGljayk7XHJcbiAgLy8gRG9kYW5pZSBvYnPFgnVnaSBkb3R5a3UsIGplxZtsaSBqZXN0IHBvdHJ6ZWJuYSBzcGVjeWZpY3puYSBsb2dpa2EgZGxhIHVyesSFZHplxYQgbW9iaWxueWNoXHJcbiAgY2FyZC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIiwgaGFuZGxlQ2FyZENsaWNrKTtcclxufSk7XHJcblxyXG4vLyBFdmVudCBMaXN0ZW5lcnNcclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4ge1xyXG4gIGNvbnN0IG5hdkVsZW1lbnRzVG9IaWRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5uYXZfX2VsZW1lbnQtdG8taGlkZVwiKTtcclxuXHJcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgKCkgPT4ge1xyXG4gICAgY29uc3Qgc2Nyb2xsVG9wID0gd2luZG93LnBhZ2VZT2Zmc2V0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7XHJcblxyXG4gICAgbmF2RWxlbWVudHNUb0hpZGUuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xyXG4gICAgICBpZiAoc2Nyb2xsVG9wID4gMjAwKSB7XHJcbiAgICAgICAgZWxlbWVudC5zdHlsZS5vcGFjaXR5ID0gXCIwXCI7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZWxlbWVudC5zdHlsZS5vcGFjaXR5ID0gXCIxXCI7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBjb25zdCBoYW1idXJnZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhhbWJ1cmdlclwiKTtcclxuXHJcbiAgaGFtYnVyZ2VyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICBoYW1idXJnZXIuY2xhc3NMaXN0LnRvZ2dsZShcImlzLWFjdGl2ZVwiKTtcclxuICB9KTtcclxufSk7XHJcblxyXG5oYW1idXJnZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZU5hdik7XHJcblxyXG5wcmV2QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgaWYgKGN1cnJlbnRJbmRleCA9PT0gMCkge1xyXG4gICAgZ2FsbGVyeUltYWdlcy5hZGRFdmVudExpc3RlbmVyKFwidHJhbnNpdGlvbmVuZFwiLCBoYW5kbGVUcmFuc2l0aW9uRW5kKTtcclxuICAgIGN1cnJlbnRJbmRleCA9IGltYWdlcy5sZW5ndGg7XHJcbiAgfSBlbHNlIHtcclxuICAgIGN1cnJlbnRJbmRleC0tO1xyXG4gIH1cclxuICBjaGFuZ2VTbGlkZShjdXJyZW50SW5kZXgpO1xyXG59KTtcclxuXHJcbm5leHRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBpZiAoY3VycmVudEluZGV4ID09PSBpbWFnZXMubGVuZ3RoICsgMSkge1xyXG4gICAgZ2FsbGVyeUltYWdlcy5hZGRFdmVudExpc3RlbmVyKFwidHJhbnNpdGlvbmVuZFwiLCBoYW5kbGVUcmFuc2l0aW9uRW5kKTtcclxuICAgIGN1cnJlbnRJbmRleCA9IDE7XHJcbiAgfSBlbHNlIHtcclxuICAgIGN1cnJlbnRJbmRleCsrO1xyXG4gIH1cclxuICBjaGFuZ2VTbGlkZShjdXJyZW50SW5kZXgpO1xyXG59KTtcclxuXHJcbi8vIEluaXRpYWxpemVcclxuY29uc3QgZmlyc3RDbG9uZSA9IGltYWdlc1swXS5jbG9uZU5vZGUodHJ1ZSk7XHJcbmNvbnN0IGxhc3RDbG9uZSA9IGltYWdlc1tpbWFnZXMubGVuZ3RoIC0gMV0uY2xvbmVOb2RlKHRydWUpO1xyXG5cclxuZmlyc3RDbG9uZS5pZCA9IFwiZmlyc3RDbG9uZVwiO1xyXG5sYXN0Q2xvbmUuaWQgPSBcImxhc3RDbG9uZVwiO1xyXG5cclxuZ2FsbGVyeUltYWdlcy5hcHBlbmQoZmlyc3RDbG9uZSk7XHJcbmdhbGxlcnlJbWFnZXMucHJlcGVuZChsYXN0Q2xvbmUpO1xyXG5cclxuZ2FsbGVyeUltYWdlcy5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWCgtJHsoY3VycmVudEluZGV4ICsgMSkgKiAxMDB9dncpYDtcclxuXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIHVwZGF0ZUltYWdlU291cmNlcyk7XHJcbnVwZGF0ZUltYWdlU291cmNlcygpO1xyXG5cclxuZmxleGZ1bkJveGVzLmZvckVhY2goKGJveCkgPT4ge1xyXG4gIGJveC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlQm94Q2xpY2spO1xyXG4gIC8vIFphc3TEhXBpZW5pZSB0b3VjaGVuZCBwcnpleiB0b3VjaHN0YXJ0XHJcbiAgYm94LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsIChldmVudCkgPT4ge1xyXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsgLy8gWmFwb2JpZWdhbmllIHBvdGVuY2phbG5lbXUgcG9kd8Ozam5lbXUgd3l3b8WCYW5pdSB6IGNsaWNrXHJcbiAgICBoYW5kbGVCb3hDbGljayhldmVudCk7XHJcbiAgfSk7XHJcbn0pO1xyXG4iXX0=
