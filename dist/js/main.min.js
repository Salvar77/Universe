"use strict";var nav=document.querySelector(".nav"),allNavItems=document.querySelectorAll(".nav__item"),hamburger=document.querySelector(".hamburger"),prevBtn=document.querySelector(".gallery-button.prev"),nextBtn=document.querySelector(".gallery-button.next"),galleryImages=document.querySelector(".gallery-images"),images=document.querySelectorAll(".gallery-images img"),footerYear=document.querySelector(".footer__year"),cards=document.querySelectorAll(".card"),imageIndex=0,currentIndex=1,handleNavItemsAnimation=function(){var n=5;allNavItems.forEach(function(e){e.classList.toggle(".nav-items-animation"),e.style.animationDelay="."+n+"s",n++})},handleBoxClick=function(e){e.currentTarget.classList.toggle("is-scaled")},handleNav=function(){nav.classList.toggle("nav--active"),allNavItems.forEach(function(e){e.addEventListener("click",function(){nav.classList.remove("nav--active")})}),handleNavItemsAnimation()},handleCurrentYear=function(){var e=(new Date).getFullYear();footerYear.innerText=e,console.log(".footer-year")},changeSlide=(handleCurrentYear(),function(e){galleryImages.style.transition="transform 0.4s ease-in-out",galleryImages.style.transform="translateX(-".concat(100*e/6,"%)")}),handleTransitionEnd=function e(){galleryImages.removeEventListener("transitionend",e),0===currentIndex?currentIndex=images.length:currentIndex===images.length+1&&(currentIndex=1),galleryImages.style.transition="none",galleryImages.style.transform="translateX(-".concat(100*currentIndex/6,"%)"),requestAnimationFrame(function(){requestAnimationFrame(function(){galleryImages.style.transition="transform 0.4s ease-in-out"})})},updateImageSources=function(){var t=window.innerWidth;document.querySelectorAll(".gallery-images img").forEach(function(e){var n=992<=t?e.src.replace("-640.webp","-1920.webp"):e.src.replace("-1920.webp","-640.webp");e.src=n})},handleCardClick=function(e){e.currentTarget.classList.toggle("is-flipped")},firstClone=(cards.forEach(function(e){e.addEventListener("click",handleCardClick),e.addEventListener("touchend",handleCardClick)}),document.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll(".nav__element-to-hide"),n=(window.addEventListener("scroll",function(){var n=window.pageYOffset||document.documentElement.scrollTop;e.forEach(function(e){e.style.opacity=200<n?"0":"1"})}),document.querySelector(".hamburger"));n.addEventListener("click",function(){n.classList.toggle("is-active")})}),hamburger.addEventListener("click",handleNav),prevBtn.addEventListener("click",function(){0===currentIndex?(galleryImages.addEventListener("transitionend",handleTransitionEnd),currentIndex=images.length):currentIndex--,changeSlide(currentIndex)}),nextBtn.addEventListener("click",function(){currentIndex===images.length+1?(galleryImages.addEventListener("transitionend",handleTransitionEnd),currentIndex=1):currentIndex++,changeSlide(currentIndex)}),images[0].cloneNode(!0)),lastClone=images[images.length-1].cloneNode(!0),flexfunBoxes=(firstClone.id="firstClone",lastClone.id="lastClone",galleryImages.append(firstClone),galleryImages.prepend(lastClone),galleryImages.style.transform="translateX(-".concat(100*(currentIndex+1),"vw)"),window.addEventListener("resize",updateImageSources),updateImageSources(),document.querySelectorAll(".flexfun__box"));flexfunBoxes.forEach(function(e){e.addEventListener("click",handleBoxClick),e.addEventListener("touchend",handleBoxClick)});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsibmF2IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiYWxsTmF2SXRlbXMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaGFtYnVyZ2VyIiwicHJldkJ0biIsIm5leHRCdG4iLCJnYWxsZXJ5SW1hZ2VzIiwiaW1hZ2VzIiwiY2FyZHMiLCJpbWFnZUluZGV4IiwiaGFuZGxlTmF2SXRlbXNBbmltYXRpb24iLCJmb3JFYWNoIiwiaXRlbSIsImNsYXNzTGlzdCIsInRvZ2dsZSIsInN0eWxlIiwiYW5pbWF0aW9uRGVsYXkiLCJkZWxheVRpbWUiLCJib3giLCJjdXJyZW50VGFyZ2V0IiwicmVtb3ZlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImdldEZ1bGxZZWFyIiwiaGFuZGxlQ3VycmVudFllYXIiLCJEYXRlIiwiZm9vdGVyWWVhciIsImNoYW5nZVNsaWRlIiwieWVhciIsInRyYW5zaXRpb24iLCJjdXJyZW50SW5kZXgiLCJoYW5kbGVUcmFuc2l0aW9uRW5kIiwibmV3SW5kZXgiLCJjb25jYXQiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJsZW5ndGgiLCJzY3JlZW5XaWR0aCIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJpbWFnZSIsIm5ld1NyYyIsInNyYyIsInJlcGxhY2UiLCJoYW5kbGVDYXJkQ2xpY2siLCJuYXZFbGVtZW50c1RvSGlkZSIsImV2ZW50Iiwic2Nyb2xsVG9wIiwiZmlyc3RDbG9uZSIsImNhcmQiLCJvcGFjaXR5IiwiaGFuZGxlTmF2IiwicGFnZVlPZmZzZXQiLCJkb2N1bWVudEVsZW1lbnQiLCJlbGVtZW50IiwiY2xvbmVOb2RlIiwibGFzdENsb25lIiwicHJlcGVuZCIsInVwZGF0ZUltYWdlU291cmNlcyIsImZsZXhmdW5Cb3hlcyIsImhhbmRsZUJveENsaWNrIiwiaWQiLCJhcHBlbmQiLCJ0cmFuc2Zvcm0iXSwibWFwcGluZ3MiOiJhQUNBLElBQU1BLElBQU1DLFNBQVNDLGNBQWMsTUFBTSxFQUR6Q0MsWUFBQUYs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M0IsRUFBT2tCLGlCQUFBLFFBQUEsV0FDTFEsRUFBQUEsVUFBY2YsT0FBQSxXQUFBLENBQ2hCLENBQUEsQ0FwQkYsQ0FBQyxFQUVEWCxVQUFVa0IsaUJBQWlCLFFBQVM0QixTQUFTLEVBdUI3QzdDLFFBQU0wQyxpQkFBcUIsUUFBRU8sV0FDSjlDLElBQW5CK0MsY0FFTlIsY0FBZ0J6QixpQkFBWSxnQkFBQVMsbUJBQUEsRUFDNUJ3QixhQUFlL0MsT0FBVzJCLFFBRzFCNUIsWUFBY2lELEdBSWRuQixZQUFPZixZQUFpQixDQUN4Qm1DLENBQUFBLEVBR0FDLFFBQUFBLGlCQUFxQixRQUFJLFdBQ25CcEMsZUFBaUJkLE9BQU8yQixPQUFFd0IsR0FDOUJ4QyxjQUFJRyxpQkFBNkJxQyxnQkFBZTVCLG1CQUFBLEVBQ2hERCxhQUFBLEdBeEJFQSxZQUFZLEdBRWRILFlBQVlHLFlBQVksQ0FDMUIsQ0FBQyxFQUdrQnRCLE9BQU8sR0FBRzhDLFVBQVUsQ0FBQSxDQUFJLEdBQ3JDQyxVQUFZL0MsT0FBT0EsT0FBTzJCLE9BQVMsR0FBR21CLFVBQVUsQ0FBQSxDQUFJLEVBYXBESSxjQVhOWCxXQUFXYSxHQUFLLGFBQ2hCTCxVQUFVSyxHQUFLLFlBRWZyRCxjQUFjc0QsT0FBT2QsVUFBVSxFQUMvQnhDLGNBQWNpRCxRQUFRRCxTQUFTLEVBRS9CaEQsY0FBY1MsTUFBTThDLFVBQVMsZUFBQTdCLE9BQXVDLEtBQXBCSCxhQUFlLEdBQVEsS0FBQSxFQUV2RU8sT0FBT2YsaUJBQWlCLFNBQVVtQyxrQkFBa0IsRUFDcERBLG1CQUFrQixFQUVHekQsU0FBU0csaUJBQWlCLGVBQWUsR0FDOUR1RCxhQUFhOUMsUUFBUSxTQUFDTyxHQUNwQkEsRUFBSUcsaUJBQWlCLFFBQVNxQyxjQUFjLEVBQzVDeEMsRUFBSUcsaUJBQWlCLFdBQVlxQyxjQUFjLENBQ2pELENBQUMiLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBWYXJpYWJsZXNcclxuY29uc3QgbmF2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uYXZcIik7XHJcbmNvbnN0IGFsbE5hdkl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5uYXZfX2l0ZW1cIik7XHJcbmNvbnN0IGhhbWJ1cmdlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaGFtYnVyZ2VyXCIpO1xyXG5jb25zdCBwcmV2QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5nYWxsZXJ5LWJ1dHRvbi5wcmV2XCIpO1xyXG5jb25zdCBuZXh0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5nYWxsZXJ5LWJ1dHRvbi5uZXh0XCIpO1xyXG5jb25zdCBnYWxsZXJ5SW1hZ2VzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5nYWxsZXJ5LWltYWdlc1wiKTtcclxuY29uc3QgaW1hZ2VzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5nYWxsZXJ5LWltYWdlcyBpbWdcIik7XHJcbmNvbnN0IGZvb3RlclllYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvb3Rlcl9feWVhclwiKTtcclxuY29uc3QgY2FyZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmNhcmRcIik7XHJcblxyXG5sZXQgaW1hZ2VJbmRleCA9IDA7XHJcbmxldCBjdXJyZW50SW5kZXggPSAxO1xyXG5cclxuLy8gRnVuY3Rpb25zXHJcbmNvbnN0IGhhbmRsZU5hdkl0ZW1zQW5pbWF0aW9uID0gKCkgPT4ge1xyXG4gIGxldCBkZWxheVRpbWUgPSA1O1xyXG5cclxuICBhbGxOYXZJdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICBpdGVtLmNsYXNzTGlzdC50b2dnbGUoXCIubmF2LWl0ZW1zLWFuaW1hdGlvblwiKTtcclxuICAgIGl0ZW0uc3R5bGUuYW5pbWF0aW9uRGVsYXkgPSBcIi5cIiArIGRlbGF5VGltZSArIFwic1wiO1xyXG4gICAgZGVsYXlUaW1lKys7XHJcbiAgfSk7XHJcbn07XHJcblxyXG5jb25zdCBoYW5kbGVCb3hDbGljayA9IChldmVudCkgPT4ge1xyXG4gIGNvbnN0IGJveCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQ7XHJcbiAgYm94LmNsYXNzTGlzdC50b2dnbGUoXCJpcy1zY2FsZWRcIik7IC8vIFpha8WCYWRhasSFYywgxbxlIG1hc3ogdGFrxIUga2xhc8SZIENTUyBkbyBvYnJhY2FuaWEgZGl2YVxyXG59O1xyXG5cclxuY29uc3QgaGFuZGxlTmF2ID0gKCkgPT4ge1xyXG4gIG5hdi5jbGFzc0xpc3QudG9nZ2xlKFwibmF2LS1hY3RpdmVcIik7XHJcblxyXG4gIGFsbE5hdkl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgbmF2LmNsYXNzTGlzdC5yZW1vdmUoXCJuYXYtLWFjdGl2ZVwiKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBoYW5kbGVOYXZJdGVtc0FuaW1hdGlvbigpO1xyXG59O1xyXG5cclxuY29uc3QgaGFuZGxlQ3VycmVudFllYXIgPSAoKSA9PiB7XHJcbiAgY29uc3QgeWVhciA9IG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKTtcclxuICBmb290ZXJZZWFyLmlubmVyVGV4dCA9IHllYXI7XHJcbiAgY29uc29sZS5sb2coXCIuZm9vdGVyLXllYXJcIik7XHJcbn07XHJcblxyXG5oYW5kbGVDdXJyZW50WWVhcigpO1xyXG5cclxuY29uc3QgY2hhbmdlU2xpZGUgPSAobmV3SW5kZXgpID0+IHtcclxuICBnYWxsZXJ5SW1hZ2VzLnN0eWxlLnRyYW5zaXRpb24gPSBcInRyYW5zZm9ybSAwLjRzIGVhc2UtaW4tb3V0XCI7XHJcbiAgZ2FsbGVyeUltYWdlcy5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWCgtJHsobmV3SW5kZXggKiAxMDApIC8gNn0lKWA7XHJcbn07XHJcblxyXG5jb25zdCBoYW5kbGVUcmFuc2l0aW9uRW5kID0gKCkgPT4ge1xyXG4gIGdhbGxlcnlJbWFnZXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRyYW5zaXRpb25lbmRcIiwgaGFuZGxlVHJhbnNpdGlvbkVuZCk7XHJcblxyXG4gIGlmIChjdXJyZW50SW5kZXggPT09IDApIHtcclxuICAgIGN1cnJlbnRJbmRleCA9IGltYWdlcy5sZW5ndGg7XHJcbiAgfSBlbHNlIGlmIChjdXJyZW50SW5kZXggPT09IGltYWdlcy5sZW5ndGggKyAxKSB7XHJcbiAgICBjdXJyZW50SW5kZXggPSAxO1xyXG4gIH1cclxuXHJcbiAgZ2FsbGVyeUltYWdlcy5zdHlsZS50cmFuc2l0aW9uID0gXCJub25lXCI7XHJcbiAgZ2FsbGVyeUltYWdlcy5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWCgtJHsoY3VycmVudEluZGV4ICogMTAwKSAvIDZ9JSlgO1xyXG4gIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XHJcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xyXG4gICAgICBnYWxsZXJ5SW1hZ2VzLnN0eWxlLnRyYW5zaXRpb24gPSBcInRyYW5zZm9ybSAwLjRzIGVhc2UtaW4tb3V0XCI7XHJcbiAgICB9KTtcclxuICB9KTtcclxufTtcclxuXHJcbmNvbnN0IHVwZGF0ZUltYWdlU291cmNlcyA9ICgpID0+IHtcclxuICBjb25zdCBzY3JlZW5XaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xyXG4gIGNvbnN0IGdhbGxlcnlJbWFnZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmdhbGxlcnktaW1hZ2VzIGltZ1wiKTtcclxuXHJcbiAgZ2FsbGVyeUltYWdlcy5mb3JFYWNoKChpbWFnZSkgPT4ge1xyXG4gICAgbGV0IG5ld1NyYztcclxuXHJcbiAgICBpZiAoc2NyZWVuV2lkdGggPj0gOTkyKSB7XHJcbiAgICAgIG5ld1NyYyA9IGltYWdlLnNyYy5yZXBsYWNlKFwiLTY0MC53ZWJwXCIsIFwiLTE5MjAud2VicFwiKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIG5ld1NyYyA9IGltYWdlLnNyYy5yZXBsYWNlKFwiLTE5MjAud2VicFwiLCBcIi02NDAud2VicFwiKTtcclxuICAgIH1cclxuXHJcbiAgICBpbWFnZS5zcmMgPSBuZXdTcmM7XHJcbiAgfSk7XHJcbn07XHJcblxyXG5jb25zdCBoYW5kbGVDYXJkQ2xpY2sgPSAoZXZlbnQpID0+IHtcclxuICAvLyBUdXRhaiBsb2dpa2Egb2JyYWNhbmlhIGthcnR5IGx1YiBpbm5hIGFrY2phLCBucC46XHJcbiAgY29uc3QgY2FyZCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQ7XHJcbiAgY2FyZC5jbGFzc0xpc3QudG9nZ2xlKFwiaXMtZmxpcHBlZFwiKTsgLy8gWmFrxYJhZGFqxIVjLCDFvGUgbWFzeiB0YWvEhSBrbGFzxJkgQ1NTIGRvIG9icmFjYW5pYSBrYXJ0eVxyXG59O1xyXG5cclxuY2FyZHMuZm9yRWFjaCgoY2FyZCkgPT4ge1xyXG4gIGNhcmQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZUNhcmRDbGljayk7XHJcbiAgLy8gRG9kYW5pZSBvYnPFgnVnaSBkb3R5a3UsIGplxZtsaSBqZXN0IHBvdHJ6ZWJuYSBzcGVjeWZpY3puYSBsb2dpa2EgZGxhIHVyesSFZHplxYQgbW9iaWxueWNoXHJcbiAgY2FyZC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIiwgaGFuZGxlQ2FyZENsaWNrKTtcclxufSk7XHJcblxyXG4vLyBFdmVudCBMaXN0ZW5lcnNcclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4ge1xyXG4gIGNvbnN0IG5hdkVsZW1lbnRzVG9IaWRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5uYXZfX2VsZW1lbnQtdG8taGlkZVwiKTtcclxuXHJcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgKCkgPT4ge1xyXG4gICAgY29uc3Qgc2Nyb2xsVG9wID0gd2luZG93LnBhZ2VZT2Zmc2V0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7XHJcblxyXG4gICAgbmF2RWxlbWVudHNUb0hpZGUuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xyXG4gICAgICBpZiAoc2Nyb2xsVG9wID4gMjAwKSB7XHJcbiAgICAgICAgZWxlbWVudC5zdHlsZS5vcGFjaXR5ID0gXCIwXCI7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZWxlbWVudC5zdHlsZS5vcGFjaXR5ID0gXCIxXCI7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBjb25zdCBoYW1idXJnZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhhbWJ1cmdlclwiKTtcclxuXHJcbiAgaGFtYnVyZ2VyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICBoYW1idXJnZXIuY2xhc3NMaXN0LnRvZ2dsZShcImlzLWFjdGl2ZVwiKTtcclxuICB9KTtcclxufSk7XHJcblxyXG5oYW1idXJnZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZU5hdik7XHJcblxyXG5wcmV2QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgaWYgKGN1cnJlbnRJbmRleCA9PT0gMCkge1xyXG4gICAgZ2FsbGVyeUltYWdlcy5hZGRFdmVudExpc3RlbmVyKFwidHJhbnNpdGlvbmVuZFwiLCBoYW5kbGVUcmFuc2l0aW9uRW5kKTtcclxuICAgIGN1cnJlbnRJbmRleCA9IGltYWdlcy5sZW5ndGg7XHJcbiAgfSBlbHNlIHtcclxuICAgIGN1cnJlbnRJbmRleC0tO1xyXG4gIH1cclxuICBjaGFuZ2VTbGlkZShjdXJyZW50SW5kZXgpO1xyXG59KTtcclxuXHJcbm5leHRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBpZiAoY3VycmVudEluZGV4ID09PSBpbWFnZXMubGVuZ3RoICsgMSkge1xyXG4gICAgZ2FsbGVyeUltYWdlcy5hZGRFdmVudExpc3RlbmVyKFwidHJhbnNpdGlvbmVuZFwiLCBoYW5kbGVUcmFuc2l0aW9uRW5kKTtcclxuICAgIGN1cnJlbnRJbmRleCA9IDE7XHJcbiAgfSBlbHNlIHtcclxuICAgIGN1cnJlbnRJbmRleCsrO1xyXG4gIH1cclxuICBjaGFuZ2VTbGlkZShjdXJyZW50SW5kZXgpO1xyXG59KTtcclxuXHJcbi8vIEluaXRpYWxpemVcclxuY29uc3QgZmlyc3RDbG9uZSA9IGltYWdlc1swXS5jbG9uZU5vZGUodHJ1ZSk7XHJcbmNvbnN0IGxhc3RDbG9uZSA9IGltYWdlc1tpbWFnZXMubGVuZ3RoIC0gMV0uY2xvbmVOb2RlKHRydWUpO1xyXG5cclxuZmlyc3RDbG9uZS5pZCA9IFwiZmlyc3RDbG9uZVwiO1xyXG5sYXN0Q2xvbmUuaWQgPSBcImxhc3RDbG9uZVwiO1xyXG5cclxuZ2FsbGVyeUltYWdlcy5hcHBlbmQoZmlyc3RDbG9uZSk7XHJcbmdhbGxlcnlJbWFnZXMucHJlcGVuZChsYXN0Q2xvbmUpO1xyXG5cclxuZ2FsbGVyeUltYWdlcy5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWCgtJHsoY3VycmVudEluZGV4ICsgMSkgKiAxMDB9dncpYDtcclxuXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIHVwZGF0ZUltYWdlU291cmNlcyk7XHJcbnVwZGF0ZUltYWdlU291cmNlcygpO1xyXG5cclxuY29uc3QgZmxleGZ1bkJveGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5mbGV4ZnVuX19ib3hcIik7XHJcbmZsZXhmdW5Cb3hlcy5mb3JFYWNoKChib3gpID0+IHtcclxuICBib3guYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZUJveENsaWNrKTtcclxuICBib3guYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsIGhhbmRsZUJveENsaWNrKTtcclxufSk7XHJcbiJdfQ==
